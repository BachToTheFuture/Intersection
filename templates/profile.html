{% extends "base.html" %}
{% block body %}
<link rel="stylesheet" href="/static/css/profile.css">

	<!-- Display the following content if this is the user's own profile -->

  <div class="main">
    <h1 class="title">{{profile_user}}</h1>
    <div id="tags"></div>
    <hr>
    <b> About Me </b>
    <p id="bio" {% if current_user == profile_user %} data-placeholder="Click here to edit your bio. Tell others about yourself!" contenteditable="true" {% endif %}>{% if user_data.bio %} {{user_data.bio}} {% endif %}</p>
    
    <div id="story-modal" class="story-modal">
      <div class="story-modal-content">
		  
        <span class="close"> &times; </span>
        
         <form>
          <label for="story-title"> <p>Title your story </p></label><br>
          <input class="form-control" type="text" id="story-title"></input>
          <label for="story"> <p>Compose your story </p></label><br>
          <textarea class="form-control" id="story" rows="3"></textarea>
          <br>
          <p>Drag and drop tags to help us categorize your story.</p>

          <div id="box1" ondrop="drop(event)" ondragover="allowDrop(event)">
          </div>

          <div id="box2" ondrop="drop(event)" ondragover="allowDrop(event)">
            
            <p ondragstart="dragStart(event)" draggable="true" id="sexual-assault-survivor" class="tags">sexual-assualt-survivor </p>
            <p ondragstart="dragStart(event)" draggable="true" id="domestic-abuse-survivor" class="tags"> domestic-abuse-survivor </p>
            <p ondragstart="dragStart(event)" draggable="true" id="LGBTQ+" class="tags"> LGBTQ+ </p>
            <p ondragstart="dragStart(event)" draggable="true" id="asian-american" class="tags"> asian-american </p>
            <p ondragstart="dragStart(event)" draggable="true" id="down-syndrome" class="tags"> down-syndrome </p>
            <p ondragstart="dragStart(event)" draggable="true" id="vitiligo" class="tags"> vitiligo </p>
          </div>
    
         </form>
         <button class="btn btn-primary" id="submit-story"> Submit </button>
      </div>
    </div>


    <div id="tag-modal" class="tag-modal">
      <div class="tag-modal-content">
        <span class="close"> &times; </span>
        <p>Drag and drop tags</p>

        <div id="box1" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div>

        <div id="box2" ondrop="drop(event)" ondragover="allowDrop(event)">
          
          <p ondragstart="dragStart(event)" draggable="true" id="t- sexual-assault-survivor" class="tags">sexual-assualt-survivor </p>

          <p ondragstart="dragStart(event)" draggable="true" id="t- domestic-abuse-survivor" class="tags"> domestic-abuse-survivor </p>
          
          <p ondragstart="dragStart(event)" draggable="true" id="t- LGBTQ+" class="tags"> LGBTQ+ </p>
          
          <p ondragstart="dragStart(event)" draggable="true" id="t- asian-american" class="tags"> asian-american </p>
          
          <p ondragstart="dragStart(event)" draggable="true" id="t- down-syndrome" class="tags"> down-syndrome </p>
          
          <p ondragstart="dragStart(event)" draggable="true" id="t- vitiligo" class="tags"> vitiligo </p>
        </div>

        <button class="btn btn-primary" id="submit-tags"> Submit </button>
      </div>      
    </div>

    {% if current_user == profile_user %}
    <div>
      <button class="btn btn-primary hide" id="change-bio">Change bio</button>

      <button class="btn btn-primary" id="open-compose-story">Add your story</button>
      
      <button class="btn btn-primary" id="update-tags"> Update tags </button>
    </div>
    {% endif %}
    <br>
    <b> Posts </b>
    <div id="posts" class="post-grid">
        <!-- If the user has posts saved they will appear here -->
        
        {% if user_data.stories %}
            {% for title, story in user_data.stories.items() %}
                {% include 'postcard.html'%}
            {% endfor %}
        {% endif %}
    </div>
   

  </div>

 
<script src="/static/js/profile.js"></script>
{% endblock %}